<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= event.name %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body style="background-color: #f0f2f5;">
    <div class="container-fluid" style="max-width: 1200px;">
        <div class="row justify-content-center py-5">
            <div class="col-12">
                <div class="card shadow">
                    <!-- Poster Header -->
                    <div class="card-img-top position-relative" style="background-color: #e9ecef; height: 400px;">
                        <img src="<%= event.posterImage.url %>" 
                             class="h-100 w-100"
                             style="object-fit: contain;"
                             alt="<%= event.name %>">
                    </div>

                    <!-- Content -->
                    <div class="card-body p-4">
                        <!-- Navigation -->
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <a href="/admin/events" class="btn btn-outline-secondary">← Back</a>
                            <div>
                                <a href="/admin/events/<%= event._id %>/edit" class="btn btn-outline-primary me-2">Edit Event</a>
                                <a href="/admin/events/<%= event._id %>/participants" class="btn btn-primary">View Participants</a>
                            </div>
                        </div>

                        <!-- Title & Type -->
                        <div class="mb-4">
                            <h1 class="mb-2"><%= event.name %></h1>
                            <span class="badge bg-primary px-3 py-2"><%= event.type %> Event</span>
                        </div>

                        <!-- Key Details -->
                        <div class="row g-3 mb-4">
                            <div class="col-md-3">
                                <div class="p-3 bg-light rounded">
                                    <div class="text-muted small mb-1">Registration Fee</div>
                                    <div class="h4 mb-0 text-success">₹<%= event.registrationAmount %></div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="p-3 bg-light rounded">
                                    <div class="text-muted small mb-1">Date</div>
                                    <div><%= new Date(event.startTime).toLocaleDateString('en-IN', { day: 'numeric', month: 'short' }) %></div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="p-3 bg-light rounded">
                                    <div class="text-muted small mb-1">Time</div>
                                    <div>
                                        <%= new Date(event.startTime).toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' }) %>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="p-3 bg-light rounded">
                                    <div class="text-muted small mb-1">Venue</div>
                                    <div><%= event.venue %></div>
                                </div>
                            </div>
                        </div>

                        <!-- About -->
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">About Event</h5>
                            <p class="text-secondary"><%= event.description %></p>
                        </div>

                        <!-- Team Size if applicable -->
                        <% if (event.type !== 'Single') { %>
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">Team Size</h5>
                            <div class="p-3 bg-light rounded">
                                <strong><%= event.teamSize.min %> - <%= event.teamSize.max %></strong> members per team
                            </div>
                        </div>
                        <% } %>

                        <!-- Rules -->
                        <div>
                            <h5 class="border-bottom pb-2">Rules & Guidelines</h5>
                            <div class="list-group list-group-flush">
                                <% event.rules.split('\n').forEach((rule, index) => { %>
                                    <div class="list-group-item px-0">
                                        <div class="d-flex gap-3">
                                            <div class="badge bg-secondary rounded-pill">
                                                <%= index + 1 %>
                                            </div>
                                            <div><%= rule.trim() %></div>
                                        </div>
                                    </div>
                                <% }); %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
    body {
        min-height: 100vh;
    }
    .card {
        border: none;
        border-radius: 16px;
    }
    .badge {
        font-weight: 500;
    }
    .list-group-item {
        background: transparent;
    }
    h5 {
        color: #344767;
        font-weight: 600;
    }
    </style>
</body>
</html>
